---
import SearchClient from '@/components/ui/search'
interface Props {
  'hide-note'?: boolean;
  max?: number;
  threshold?: number;
  results: string;
  content: string;
  collection?: string;
}
const props = Astro.props;
---

<SearchClient client:load />

<div class="search-component" data-max=`${props.max}` data-threshold=`${props.threshold}` data-content=`${props.content}` data-collection=`${props.collection}`>

  {!props['hide-note'] &&
    <p class="note">
      Note: links in search results may not work. That's because we index
      collections, not pages, and we don't necessarily know how your pages
      are organized. We're just guessing that links are 
      <code>collection/filename</code>. If they're not, you probably need
      to change the <code>CreateLink</code> method in the search component.
    </p>
  }

  <input class="query" placeholder="Search">

  <template class="title-template">
    <section class="flex flex-col gap-y-4">
      <div class="font-medium">RÃ©sultats de recherche :</div>
      <ul class="flex flex-col gap-4"></ul>
    </section>
  </template>

  <template class="result-template">
    <li>
      <a href="" class="search-result hover:bg-secondary/50 rounded-xl border p-4 transition-colors duration-300 ease-in-out block" data-target="link">
        <div class="flex flex-col gap-4 sm:flex-row">
            <div class="grow">
              <h3 class="mb-1 text-lg font-medium" data-target="title"></h3>
              <p class="text-muted-foreground mb-2 text-sm" data-target="description"></p>
              <div class="text-muted-foreground mb-2 flex flex-wrap items-center gap-x-2 text-xs">
                <span data-target="date"></span>
              </div>
              <div id="tags" class="flex flex-wrap gap-2"></div>
            </div>
        </div>
      </a>
    </li>
  </template>
</div>


